<app-header></app-header>
<main class="max-w-[1440px] mx-auto p-4 sm:p-8 pt-24">

  <!-- Header -->
  <div class="flex flex-col md:flex-row md:items-end justify-between gap-6 mb-8 pt-16">
    <div>
      <h1 class=" text-3xl sm:text-4xl font-black text-[#181411] dark:text-dark white mb-2">
        Booking History
      </h1>
      <p class="text-[#897561] dark:text-gray-400 max-w-xl">
        Manage your Darshan and Pooja bookings
      </p>
    </div>

    <button
      class="bg-primary text-white font-bold px-6 py-3 rounded-lg flex items-center gap-2"
    >
      <span class="material-symbols-outlined">add_circle</span>
      Book New Darshan
    </button>
  </div>

  <!-- Tabs -->
  <div class="flex gap-6 border-b border-[#e6e0db] dark:border-white/10 mb-6">
    <button
      *ngFor="let tab of tabs"
      (click)="activeTab = tab"
      class="pb-3 text-sm font-bold capitalize"
      [class.border-b-2]="activeTab === tab"
      [class.border-primary]="activeTab === tab"
      [class.text-primary]="activeTab === tab"
      [class.text-[#897561]]="activeTab !== tab"
    >
      {{ tab }}
    </button>
  </div>

  <!-- Booking Cards -->
  <div class="flex flex-col gap-4">
    <div
      *ngFor="let booking of filteredBookings"
      class="bg-white dark:bg-[#1a1a1a] rounded-xl border border-[#e6e0db] dark:border-white/10 p-5 flex flex-col md:flex-row gap-6 hover:shadow-md transition"
    >
      <!-- Image -->
      <div
        class="relative md:w-48 h-32 rounded-lg bg-cover bg-center"
        [style.backgroundImage]="'url(' + booking.image + ')'"
      >
        <span
          class="absolute top-2 left-2 text-xs font-bold px-2 py-1 rounded text-white"
          [class.bg-primary]="booking.type === 'Pooja'"
          [class.bg-[#897561]]="booking.type === 'Darshan'"
        >
          {{ booking.type }}
        </span>
      </div>

      <!-- Details -->
      <div class="flex-1 flex flex-col gap-3">
        <h3 class="text-lg font-bold dark:text-white">
          {{ booking.temple }}
        </h3>
        <p class="text-sm text-[#897561] dark:text-gray-400">
          {{ booking.title }}
        </p>

        <div class="flex flex-wrap gap-4 text-sm dark:text-gray-300">
          <span>üìÖ {{ booking.date }}</span>
          <span>‚è∞ {{ booking.time }}</span>
          <span class="font-mono">#{{ booking.id }}</span>
        </div>
      </div>

      <!-- Status -->
      <div class="flex flex-col items-end gap-2 min-w-[120px]">
        <span
          class="px-3 py-1 rounded-full text-xs font-bold"
          [ngClass]="{
            'bg-green-100 text-green-800': booking.status === 'CONFIRMED',
            'bg-yellow-100 text-yellow-800': booking.status === 'PENDING',
            'bg-red-100 text-red-600': booking.status === 'CANCELLED'
          }"
        >
          {{ booking.status }}
        </span>

        <p class="font-bold text-lg dark:text-white">
          ‚Çπ {{ booking.amount }}
        </p>
      </div>
    </div>
  </div>

</main>

<app-footer></app-footer>

